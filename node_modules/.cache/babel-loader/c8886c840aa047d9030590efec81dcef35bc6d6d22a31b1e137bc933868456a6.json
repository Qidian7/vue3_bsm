{"ast":null,"code":"//todo 封装infoManagement里面类似的操作\n// import service from \"@/service\";\n\n//todo 获取表格数据\nexport function getData(root, url, params) {\n  root.service.get(url, {\n    params: params || {}\n  }).then(res => {\n    if (res.status === 200) {\n      root.tableData = res.data.data;\n      root.total = res.data.total;\n      root.$message({\n        message: res.data.message,\n        tyep: \"success\"\n      });\n    }\n  }).catch(err => {\n    throw err;\n  });\n}\n\n//todo 新增修改封装\nimport qs from \"qs\";\nexport function changeInfo(root, method, url, form, callback) {\n  let data = qs.stringify(form);\n  root.service[method](url, data).then(res => {\n    if (res.status === 200) {\n      callback(root, url);\n      root.dialogFormVisible = false;\n      root.$message({\n        type: \"success\",\n        message: res.data.message\n      });\n    }\n  }).catch(err => {\n    throw err;\n  });\n}\n\n// 删除\nexport function delData(root, url, id, callFun) {\n  root.$alert(\"确定删除？\", \"提示\", {\n    confirmButtonText: \"确定\",\n    callback: () => {\n      root.service.delete(`${url}/${id}`).then(res => {\n        if (res.status === 200) {\n          // getData();\n          callFun(root, url);\n          root.$message({\n            message: res.data.message,\n            type: \"success\"\n          });\n        }\n      }).catch(err => {\n        throw err;\n      });\n    }\n  });\n}\n\n// 作业列表 获取表格数据方法封装\nexport function getTableData(root, url, params) {\n  root.service.get(url, {\n    params: params || {}\n  }).then(res => {\n    if (res.status === 200) {\n      root.tableData = res.data.data;\n      root.total = res.data.total;\n      root.tableData.forEach(item => {\n        item.completed ? item.completed_text = \"已完成\" : item.completed_text = \"未完成\";\n      });\n      root.loading = false;\n    }\n  }).catch(err => {\n    throw err;\n  });\n}","map":{"version":3,"names":["getData","root","url","params","service","get","then","res","status","tableData","data","total","$message","message","tyep","catch","err","qs","changeInfo","method","form","callback","stringify","dialogFormVisible","type","delData","id","callFun","$alert","confirmButtonText","delete","getTableData","forEach","item","completed","completed_text","loading"],"sources":["/Users/mac/Desktop/vue_bsm/vue3_bsm/src/utils/table.js"],"sourcesContent":["//todo 封装infoManagement里面类似的操作\n// import service from \"@/service\";\n\n//todo 获取表格数据\nexport function getData(root, url, params) {\n  root.service\n    .get(url, { params: params || {} })\n    .then((res) => {\n      if (res.status === 200) {\n        root.tableData = res.data.data;\n        root.total = res.data.total;\n        root.$message({ message: res.data.message, tyep: \"success\" });\n      }\n    })\n    .catch((err) => {\n      throw err;\n    });\n}\n\n//todo 新增修改封装\nimport qs from \"qs\";\nexport function changeInfo(root, method, url, form, callback) {\n  let data = qs.stringify(form);\n  root.service[method](url, data)\n    .then((res) => {\n      if (res.status === 200) {\n        callback(root, url);\n        root.dialogFormVisible = false;\n        root.$message({ type: \"success\", message: res.data.message });\n      }\n    })\n    .catch((err) => {\n      throw err;\n    });\n}\n\n// 删除\nexport function delData(root, url, id, callFun) {\n  root.$alert(\"确定删除？\", \"提示\", {\n    confirmButtonText: \"确定\",\n    callback: () => {\n      root.service\n        .delete(`${url}/${id}`)\n        .then((res) => {\n          if (res.status === 200) {\n            // getData();\n            callFun(root, url);\n            root.$message({ message: res.data.message, type: \"success\" });\n          }\n        })\n        .catch((err) => {\n          throw err;\n        });\n    },\n  });\n}\n\n// 作业列表 获取表格数据方法封装\nexport function getTableData(root, url, params) {\n  root.service\n    .get(url, { params: params || {} })\n    .then((res) => {\n      if (res.status === 200) {\n        root.tableData = res.data.data;\n        root.total = res.data.total;\n        root.tableData.forEach((item) => {\n          item.completed\n            ? (item.completed_text = \"已完成\")\n            : (item.completed_text = \"未完成\");\n        });\n        root.loading = false;\n      }\n    })\n    .catch((err) => {\n      throw err;\n    });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}