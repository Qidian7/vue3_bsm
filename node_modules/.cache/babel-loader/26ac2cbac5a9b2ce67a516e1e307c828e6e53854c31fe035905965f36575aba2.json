{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\nvar clazzUtil = require(\"../../util/clazz\");\nvar graphic = require(\"../../util/graphic\");\nvar axisPointerModelHelper = require(\"./modelHelper\");\nvar eventTool = require(\"zrender/lib/core/event\");\nvar throttleUtil = require(\"../../util/throttle\");\nvar _model = require(\"../../util/model\");\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = makeInner();\nvar clone = zrUtil.clone;\nvar bind = zrUtil.bind;\n/**\n * Base axis pointer class in 2D.\n * Implemenents {module:echarts/component/axis/IAxisPointer}.\n */\n\nfunction BaseAxisPointer() {}\nBaseAxisPointer.prototype = {\n  /**\n   * @private\n   */\n  _group: null,\n  /**\n   * @private\n   */\n  _lastGraphicKey: null,\n  /**\n   * @private\n   */\n  _handle: null,\n  /**\n   * @private\n   */\n  _dragging: false,\n  /**\n   * @private\n   */\n  _lastValue: null,\n  /**\n   * @private\n   */\n  _lastStatus: null,\n  /**\n   * @private\n   */\n  _payloadInfo: null,\n  /**\n   * In px, arbitrary value. Do not set too small,\n   * no animation is ok for most cases.\n   * @protected\n   */\n  animationThreshold: 15,\n  /**\n   * @implement\n   */\n  render: function (axisModel, axisPointerModel, api, forceRender) {\n    var value = axisPointerModel.get('value');\n    var status = axisPointerModel.get('status'); // Bind them to `this`, not in closure, otherwise they will not\n    // be replaced when user calling setOption in not merge mode.\n\n    this._axisModel = axisModel;\n    this._axisPointerModel = axisPointerModel;\n    this._api = api; // Optimize: `render` will be called repeatly during mouse move.\n    // So it is power consuming if performing `render` each time,\n    // especially on mobile device.\n\n    if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n      return;\n    }\n    this._lastValue = value;\n    this._lastStatus = status;\n    var group = this._group;\n    var handle = this._handle;\n    if (!status || status === 'hide') {\n      // Do not clear here, for animation better.\n      group && group.hide();\n      handle && handle.hide();\n      return;\n    }\n    group && group.show();\n    handle && handle.show(); // Otherwise status is 'show'\n\n    var elOption = {};\n    this.makeElOption(elOption, value, axisModel, axisPointerModel, api); // Enable change axis pointer type.\n\n    var graphicKey = elOption.graphicKey;\n    if (graphicKey !== this._lastGraphicKey) {\n      this.clear(api);\n    }\n    this._lastGraphicKey = graphicKey;\n    var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n    if (!group) {\n      group = this._group = new graphic.Group();\n      this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n      this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n      api.getZr().add(group);\n    } else {\n      var doUpdateProps = zrUtil.curry(updateProps, axisPointerModel, moveAnimation);\n      this.updatePointerEl(group, elOption, doUpdateProps, axisPointerModel);\n      this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n    }\n    updateMandatoryProps(group, axisPointerModel, true);\n    this._renderHandle(value);\n  },\n  /**\n   * @implement\n   */\n  remove: function (api) {\n    this.clear(api);\n  },\n  /**\n   * @implement\n   */\n  dispose: function (api) {\n    this.clear(api);\n  },\n  /**\n   * @protected\n   */\n  determineAnimation: function (axisModel, axisPointerModel) {\n    var animation = axisPointerModel.get('animation');\n    var axis = axisModel.axis;\n    var isCategoryAxis = axis.type === 'category';\n    var useSnap = axisPointerModel.get('snap'); // Value axis without snap always do not snap.\n\n    if (!useSnap && !isCategoryAxis) {\n      return false;\n    }\n    if (animation === 'auto' || animation == null) {\n      var animationThreshold = this.animationThreshold;\n      if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n        return true;\n      } // It is important to auto animation when snap used. Consider if there is\n      // a dataZoom, animation will be disabled when too many points exist, while\n      // it will be enabled for better visual effect when little points exist.\n\n      if (useSnap) {\n        var seriesDataCount = axisPointerModelHelper.getAxisInfo(axisModel).seriesDataCount;\n        var axisExtent = axis.getExtent(); // Approximate band width\n\n        return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n      }\n      return false;\n    }\n    return animation === true;\n  },\n  /**\n   * add {pointer, label, graphicKey} to elOption\n   * @protected\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {// Shoule be implemenented by sub-class.\n  },\n  /**\n   * @protected\n   */\n  createPointerEl: function (group, elOption, axisModel, axisPointerModel) {\n    var pointerOption = elOption.pointer;\n    if (pointerOption) {\n      var pointerEl = inner(group).pointerEl = new graphic[pointerOption.type](clone(elOption.pointer));\n      group.add(pointerEl);\n    }\n  },\n  /**\n   * @protected\n   */\n  createLabelEl: function (group, elOption, axisModel, axisPointerModel) {\n    if (elOption.label) {\n      var labelEl = inner(group).labelEl = new graphic.Rect(clone(elOption.label));\n      group.add(labelEl);\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n  /**\n   * @protected\n   */\n  updatePointerEl: function (group, elOption, updateProps) {\n    var pointerEl = inner(group).pointerEl;\n    if (pointerEl && elOption.pointer) {\n      pointerEl.setStyle(elOption.pointer.style);\n      updateProps(pointerEl, {\n        shape: elOption.pointer.shape\n      });\n    }\n  },\n  /**\n   * @protected\n   */\n  updateLabelEl: function (group, elOption, updateProps, axisPointerModel) {\n    var labelEl = inner(group).labelEl;\n    if (labelEl) {\n      labelEl.setStyle(elOption.label.style);\n      updateProps(labelEl, {\n        // Consider text length change in vertical axis, animation should\n        // be used on shape, otherwise the effect will be weird.\n        shape: elOption.label.shape,\n        position: elOption.label.position\n      });\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n  /**\n   * @private\n   */\n  _renderHandle: function (value) {\n    if (this._dragging || !this.updateHandleTransform) {\n      return;\n    }\n    var axisPointerModel = this._axisPointerModel;\n    var zr = this._api.getZr();\n    var handle = this._handle;\n    var handleModel = axisPointerModel.getModel('handle');\n    var status = axisPointerModel.get('status');\n    if (!handleModel.get('show') || !status || status === 'hide') {\n      handle && zr.remove(handle);\n      this._handle = null;\n      return;\n    }\n    var isInit;\n    if (!this._handle) {\n      isInit = true;\n      handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n        cursor: 'move',\n        draggable: true,\n        onmousemove: function (e) {\n          // Fot mobile devicem, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        onmousedown: bind(this._onHandleDragMove, this, 0, 0),\n        drift: bind(this._onHandleDragMove, this),\n        ondragend: bind(this._onHandleDragEnd, this)\n      });\n      zr.add(handle);\n    }\n    updateMandatoryProps(handle, axisPointerModel, false); // update style\n\n    var includeStyles = ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n    handle.setStyle(handleModel.getItemStyle(null, includeStyles)); // update position\n\n    var handleSize = handleModel.get('size');\n    if (!zrUtil.isArray(handleSize)) {\n      handleSize = [handleSize, handleSize];\n    }\n    handle.attr('scale', [handleSize[0] / 2, handleSize[1] / 2]);\n    throttleUtil.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n    this._moveHandleToValue(value, isInit);\n  },\n  /**\n   * @private\n   */\n  _moveHandleToValue: function (value, isInit) {\n    updateProps(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n  },\n  /**\n   * @private\n   */\n  _onHandleDragMove: function (dx, dy) {\n    var handle = this._handle;\n    if (!handle) {\n      return;\n    }\n    this._dragging = true; // Persistent for throttle.\n\n    var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n    this._payloadInfo = trans;\n    handle.stopAnimation();\n    handle.attr(getHandleTransProps(trans));\n    inner(handle).lastProp = null;\n    this._doDispatchAxisPointer();\n  },\n  /**\n   * Throttled method.\n   * @private\n   */\n  _doDispatchAxisPointer: function () {\n    var handle = this._handle;\n    if (!handle) {\n      return;\n    }\n    var payloadInfo = this._payloadInfo;\n    var axisModel = this._axisModel;\n    this._api.dispatchAction({\n      type: 'updateAxisPointer',\n      x: payloadInfo.cursorPoint[0],\n      y: payloadInfo.cursorPoint[1],\n      tooltipOption: payloadInfo.tooltipOption,\n      axesInfo: [{\n        axisDim: axisModel.axis.dim,\n        axisIndex: axisModel.componentIndex\n      }]\n    });\n  },\n  /**\n   * @private\n   */\n  _onHandleDragEnd: function (moveAnimation) {\n    this._dragging = false;\n    var handle = this._handle;\n    if (!handle) {\n      return;\n    }\n    var value = this._axisPointerModel.get('value'); // Consider snap or categroy axis, handle may be not consistent with\n    // axisPointer. So move handle to align the exact value position when\n    // drag ended.\n\n    this._moveHandleToValue(value); // For the effect: tooltip will be shown when finger holding on handle\n    // button, and will be hidden after finger left handle button.\n\n    this._api.dispatchAction({\n      type: 'hideTip'\n    });\n  },\n  /**\n   * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {number} value\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0}\n   */\n  getHandleTransform: null,\n  /**\n   * * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {Object} transform {position, rotation}\n   * @param {Array.<number>} delta [dx, dy]\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0, cursorPoint: [x, y]}\n   */\n  updateHandleTransform: null,\n  /**\n   * @private\n   */\n  clear: function (api) {\n    this._lastValue = null;\n    this._lastStatus = null;\n    var zr = api.getZr();\n    var group = this._group;\n    var handle = this._handle;\n    if (zr && group) {\n      this._lastGraphicKey = null;\n      group && zr.remove(group);\n      handle && zr.remove(handle);\n      this._group = null;\n      this._handle = null;\n      this._payloadInfo = null;\n    }\n  },\n  /**\n   * @protected\n   */\n  doClear: function () {// Implemented by sub-class if necessary.\n  },\n  /**\n   * @protected\n   * @param {Array.<number>} xy\n   * @param {Array.<number>} wh\n   * @param {number} [xDimIndex=0] or 1\n   */\n  buildLabel: function (xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  }\n};\nBaseAxisPointer.prototype.constructor = BaseAxisPointer;\nfunction updateProps(animationModel, moveAnimation, el, props) {\n  // Animation optimize.\n  if (!propsEqual(inner(el).lastProp, props)) {\n    inner(el).lastProp = props;\n    moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n  }\n}\nfunction propsEqual(lastProps, newProps) {\n  if (zrUtil.isObject(lastProps) && zrUtil.isObject(newProps)) {\n    var equals = true;\n    zrUtil.each(newProps, function (item, key) {\n      equals = equals && propsEqual(lastProps[key], item);\n    });\n    return !!equals;\n  } else {\n    return lastProps === newProps;\n  }\n}\nfunction updateLabelShowHide(labelEl, axisPointerModel) {\n  labelEl[axisPointerModel.get('label.show') ? 'show' : 'hide']();\n}\nfunction getHandleTransProps(trans) {\n  return {\n    position: trans.position.slice(),\n    rotation: trans.rotation || 0\n  };\n}\nfunction updateMandatoryProps(group, axisPointerModel, silent) {\n  var z = axisPointerModel.get('z');\n  var zlevel = axisPointerModel.get('zlevel');\n  group && group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n      el.silent = silent;\n    }\n  });\n}\nclazzUtil.enableClassExtend(BaseAxisPointer);\nvar _default = BaseAxisPointer;\nmodule.exports = _default;","map":{"version":3,"names":["zrUtil","require","clazzUtil","graphic","axisPointerModelHelper","eventTool","throttleUtil","_model","makeInner","inner","clone","bind","BaseAxisPointer","prototype","_group","_lastGraphicKey","_handle","_dragging","_lastValue","_lastStatus","_payloadInfo","animationThreshold","render","axisModel","axisPointerModel","api","forceRender","value","get","status","_axisModel","_axisPointerModel","_api","group","handle","hide","show","elOption","makeElOption","graphicKey","clear","moveAnimation","_moveAnimation","determineAnimation","Group","createPointerEl","createLabelEl","getZr","add","doUpdateProps","curry","updateProps","updatePointerEl","updateLabelEl","updateMandatoryProps","_renderHandle","remove","dispose","animation","axis","isCategoryAxis","type","useSnap","getBandWidth","seriesDataCount","getAxisInfo","axisExtent","getExtent","Math","abs","pointerOption","pointer","pointerEl","label","labelEl","Rect","updateLabelShowHide","setStyle","style","shape","position","updateHandleTransform","zr","handleModel","getModel","isInit","createIcon","cursor","draggable","onmousemove","e","stop","event","onmousedown","_onHandleDragMove","drift","ondragend","_onHandleDragEnd","includeStyles","getItemStyle","handleSize","isArray","attr","createOrUpdate","_moveHandleToValue","getHandleTransProps","getHandleTransform","dx","dy","trans","stopAnimation","lastProp","_doDispatchAxisPointer","payloadInfo","dispatchAction","x","cursorPoint","y","tooltipOption","axesInfo","axisDim","dim","axisIndex","componentIndex","doClear","buildLabel","xy","wh","xDimIndex","width","height","constructor","animationModel","el","props","propsEqual","lastProps","newProps","isObject","equals","each","item","key","slice","rotation","silent","z","zlevel","traverse","enableClassExtend","_default","module","exports"],"sources":["/Users/mac/Desktop/vue_bsm/vue3_bsm/node_modules/echarts/lib/component/axisPointer/BaseAxisPointer.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar clazzUtil = require(\"../../util/clazz\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar axisPointerModelHelper = require(\"./modelHelper\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar throttleUtil = require(\"../../util/throttle\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = makeInner();\nvar clone = zrUtil.clone;\nvar bind = zrUtil.bind;\n/**\n * Base axis pointer class in 2D.\n * Implemenents {module:echarts/component/axis/IAxisPointer}.\n */\n\nfunction BaseAxisPointer() {}\n\nBaseAxisPointer.prototype = {\n  /**\n   * @private\n   */\n  _group: null,\n\n  /**\n   * @private\n   */\n  _lastGraphicKey: null,\n\n  /**\n   * @private\n   */\n  _handle: null,\n\n  /**\n   * @private\n   */\n  _dragging: false,\n\n  /**\n   * @private\n   */\n  _lastValue: null,\n\n  /**\n   * @private\n   */\n  _lastStatus: null,\n\n  /**\n   * @private\n   */\n  _payloadInfo: null,\n\n  /**\n   * In px, arbitrary value. Do not set too small,\n   * no animation is ok for most cases.\n   * @protected\n   */\n  animationThreshold: 15,\n\n  /**\n   * @implement\n   */\n  render: function (axisModel, axisPointerModel, api, forceRender) {\n    var value = axisPointerModel.get('value');\n    var status = axisPointerModel.get('status'); // Bind them to `this`, not in closure, otherwise they will not\n    // be replaced when user calling setOption in not merge mode.\n\n    this._axisModel = axisModel;\n    this._axisPointerModel = axisPointerModel;\n    this._api = api; // Optimize: `render` will be called repeatly during mouse move.\n    // So it is power consuming if performing `render` each time,\n    // especially on mobile device.\n\n    if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n      return;\n    }\n\n    this._lastValue = value;\n    this._lastStatus = status;\n    var group = this._group;\n    var handle = this._handle;\n\n    if (!status || status === 'hide') {\n      // Do not clear here, for animation better.\n      group && group.hide();\n      handle && handle.hide();\n      return;\n    }\n\n    group && group.show();\n    handle && handle.show(); // Otherwise status is 'show'\n\n    var elOption = {};\n    this.makeElOption(elOption, value, axisModel, axisPointerModel, api); // Enable change axis pointer type.\n\n    var graphicKey = elOption.graphicKey;\n\n    if (graphicKey !== this._lastGraphicKey) {\n      this.clear(api);\n    }\n\n    this._lastGraphicKey = graphicKey;\n    var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n\n    if (!group) {\n      group = this._group = new graphic.Group();\n      this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n      this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n      api.getZr().add(group);\n    } else {\n      var doUpdateProps = zrUtil.curry(updateProps, axisPointerModel, moveAnimation);\n      this.updatePointerEl(group, elOption, doUpdateProps, axisPointerModel);\n      this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n    }\n\n    updateMandatoryProps(group, axisPointerModel, true);\n\n    this._renderHandle(value);\n  },\n\n  /**\n   * @implement\n   */\n  remove: function (api) {\n    this.clear(api);\n  },\n\n  /**\n   * @implement\n   */\n  dispose: function (api) {\n    this.clear(api);\n  },\n\n  /**\n   * @protected\n   */\n  determineAnimation: function (axisModel, axisPointerModel) {\n    var animation = axisPointerModel.get('animation');\n    var axis = axisModel.axis;\n    var isCategoryAxis = axis.type === 'category';\n    var useSnap = axisPointerModel.get('snap'); // Value axis without snap always do not snap.\n\n    if (!useSnap && !isCategoryAxis) {\n      return false;\n    }\n\n    if (animation === 'auto' || animation == null) {\n      var animationThreshold = this.animationThreshold;\n\n      if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n        return true;\n      } // It is important to auto animation when snap used. Consider if there is\n      // a dataZoom, animation will be disabled when too many points exist, while\n      // it will be enabled for better visual effect when little points exist.\n\n\n      if (useSnap) {\n        var seriesDataCount = axisPointerModelHelper.getAxisInfo(axisModel).seriesDataCount;\n        var axisExtent = axis.getExtent(); // Approximate band width\n\n        return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n      }\n\n      return false;\n    }\n\n    return animation === true;\n  },\n\n  /**\n   * add {pointer, label, graphicKey} to elOption\n   * @protected\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {// Shoule be implemenented by sub-class.\n  },\n\n  /**\n   * @protected\n   */\n  createPointerEl: function (group, elOption, axisModel, axisPointerModel) {\n    var pointerOption = elOption.pointer;\n\n    if (pointerOption) {\n      var pointerEl = inner(group).pointerEl = new graphic[pointerOption.type](clone(elOption.pointer));\n      group.add(pointerEl);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  createLabelEl: function (group, elOption, axisModel, axisPointerModel) {\n    if (elOption.label) {\n      var labelEl = inner(group).labelEl = new graphic.Rect(clone(elOption.label));\n      group.add(labelEl);\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  updatePointerEl: function (group, elOption, updateProps) {\n    var pointerEl = inner(group).pointerEl;\n\n    if (pointerEl && elOption.pointer) {\n      pointerEl.setStyle(elOption.pointer.style);\n      updateProps(pointerEl, {\n        shape: elOption.pointer.shape\n      });\n    }\n  },\n\n  /**\n   * @protected\n   */\n  updateLabelEl: function (group, elOption, updateProps, axisPointerModel) {\n    var labelEl = inner(group).labelEl;\n\n    if (labelEl) {\n      labelEl.setStyle(elOption.label.style);\n      updateProps(labelEl, {\n        // Consider text length change in vertical axis, animation should\n        // be used on shape, otherwise the effect will be weird.\n        shape: elOption.label.shape,\n        position: elOption.label.position\n      });\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _renderHandle: function (value) {\n    if (this._dragging || !this.updateHandleTransform) {\n      return;\n    }\n\n    var axisPointerModel = this._axisPointerModel;\n\n    var zr = this._api.getZr();\n\n    var handle = this._handle;\n    var handleModel = axisPointerModel.getModel('handle');\n    var status = axisPointerModel.get('status');\n\n    if (!handleModel.get('show') || !status || status === 'hide') {\n      handle && zr.remove(handle);\n      this._handle = null;\n      return;\n    }\n\n    var isInit;\n\n    if (!this._handle) {\n      isInit = true;\n      handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n        cursor: 'move',\n        draggable: true,\n        onmousemove: function (e) {\n          // Fot mobile devicem, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        onmousedown: bind(this._onHandleDragMove, this, 0, 0),\n        drift: bind(this._onHandleDragMove, this),\n        ondragend: bind(this._onHandleDragEnd, this)\n      });\n      zr.add(handle);\n    }\n\n    updateMandatoryProps(handle, axisPointerModel, false); // update style\n\n    var includeStyles = ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n    handle.setStyle(handleModel.getItemStyle(null, includeStyles)); // update position\n\n    var handleSize = handleModel.get('size');\n\n    if (!zrUtil.isArray(handleSize)) {\n      handleSize = [handleSize, handleSize];\n    }\n\n    handle.attr('scale', [handleSize[0] / 2, handleSize[1] / 2]);\n    throttleUtil.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n\n    this._moveHandleToValue(value, isInit);\n  },\n\n  /**\n   * @private\n   */\n  _moveHandleToValue: function (value, isInit) {\n    updateProps(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n  },\n\n  /**\n   * @private\n   */\n  _onHandleDragMove: function (dx, dy) {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    this._dragging = true; // Persistent for throttle.\n\n    var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n    this._payloadInfo = trans;\n    handle.stopAnimation();\n    handle.attr(getHandleTransProps(trans));\n    inner(handle).lastProp = null;\n\n    this._doDispatchAxisPointer();\n  },\n\n  /**\n   * Throttled method.\n   * @private\n   */\n  _doDispatchAxisPointer: function () {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var payloadInfo = this._payloadInfo;\n    var axisModel = this._axisModel;\n\n    this._api.dispatchAction({\n      type: 'updateAxisPointer',\n      x: payloadInfo.cursorPoint[0],\n      y: payloadInfo.cursorPoint[1],\n      tooltipOption: payloadInfo.tooltipOption,\n      axesInfo: [{\n        axisDim: axisModel.axis.dim,\n        axisIndex: axisModel.componentIndex\n      }]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _onHandleDragEnd: function (moveAnimation) {\n    this._dragging = false;\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var value = this._axisPointerModel.get('value'); // Consider snap or categroy axis, handle may be not consistent with\n    // axisPointer. So move handle to align the exact value position when\n    // drag ended.\n\n\n    this._moveHandleToValue(value); // For the effect: tooltip will be shown when finger holding on handle\n    // button, and will be hidden after finger left handle button.\n\n\n    this._api.dispatchAction({\n      type: 'hideTip'\n    });\n  },\n\n  /**\n   * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {number} value\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0}\n   */\n  getHandleTransform: null,\n\n  /**\n   * * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {Object} transform {position, rotation}\n   * @param {Array.<number>} delta [dx, dy]\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0, cursorPoint: [x, y]}\n   */\n  updateHandleTransform: null,\n\n  /**\n   * @private\n   */\n  clear: function (api) {\n    this._lastValue = null;\n    this._lastStatus = null;\n    var zr = api.getZr();\n    var group = this._group;\n    var handle = this._handle;\n\n    if (zr && group) {\n      this._lastGraphicKey = null;\n      group && zr.remove(group);\n      handle && zr.remove(handle);\n      this._group = null;\n      this._handle = null;\n      this._payloadInfo = null;\n    }\n  },\n\n  /**\n   * @protected\n   */\n  doClear: function () {// Implemented by sub-class if necessary.\n  },\n\n  /**\n   * @protected\n   * @param {Array.<number>} xy\n   * @param {Array.<number>} wh\n   * @param {number} [xDimIndex=0] or 1\n   */\n  buildLabel: function (xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  }\n};\nBaseAxisPointer.prototype.constructor = BaseAxisPointer;\n\nfunction updateProps(animationModel, moveAnimation, el, props) {\n  // Animation optimize.\n  if (!propsEqual(inner(el).lastProp, props)) {\n    inner(el).lastProp = props;\n    moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n  }\n}\n\nfunction propsEqual(lastProps, newProps) {\n  if (zrUtil.isObject(lastProps) && zrUtil.isObject(newProps)) {\n    var equals = true;\n    zrUtil.each(newProps, function (item, key) {\n      equals = equals && propsEqual(lastProps[key], item);\n    });\n    return !!equals;\n  } else {\n    return lastProps === newProps;\n  }\n}\n\nfunction updateLabelShowHide(labelEl, axisPointerModel) {\n  labelEl[axisPointerModel.get('label.show') ? 'show' : 'hide']();\n}\n\nfunction getHandleTransProps(trans) {\n  return {\n    position: trans.position.slice(),\n    rotation: trans.rotation || 0\n  };\n}\n\nfunction updateMandatoryProps(group, axisPointerModel, silent) {\n  var z = axisPointerModel.get('z');\n  var zlevel = axisPointerModel.get('zlevel');\n  group && group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n      el.silent = silent;\n    }\n  });\n}\n\nclazzUtil.enableClassExtend(BaseAxisPointer);\nvar _default = BaseAxisPointer;\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}