{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-5683b9f6\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"studentList\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 查询、重置表单 \"), _createVNode(_component_el_form, {\n    inline: true,\n    model: $data.formInline,\n    class: \"demo-form-inline\",\n    size: \"small\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, {\n      label: \"姓名\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.formInline.name,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.formInline.name = $event),\n        placeholder: \"请输入需要查询的姓名\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $options.find\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"查询\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $options.reset\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"重置\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\"]), _createCommentVNode(\" 分页公式：slice(（当前页数-1）*每页条数,当前页数*每页条数) \"), _createVNode(_component_el_table, {\n    data: $options.computedData,\n    border: \"\",\n    style: {\n      \"width\": \"100%\"\n    }\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\" width+180px 改成 align=\\\"center\\\" 居中显示去除滚动条 \"), _createVNode(_component_el_table_column, {\n      prop: \"name\",\n      label: \"姓名\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"sex_text\",\n      label: \"性别\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"age\",\n      label: \"年龄\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"number\",\n      label: \"学号\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"class\",\n      label: \"班级\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"state_text\",\n      label: \"状态\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"phone\",\n      label: \"联系方式\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      label: \"操作\",\n      align: \"center\"\n    }, {\n      default: _withCtx(scope => [_createVNode(_component_el_button, {\n        type: \"danger\",\n        size: \"mini\",\n        icon: \"el-icon-delete\",\n        onClick: $event => $options.del(scope.row)\n      }, null, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"]), _createVNode(_component_el_pagination, {\n    onSizeChange: $options.handleSizeChange,\n    onCurrentChange: $options.handleCurrentChange,\n    \"current-page\": $data.currentPage,\n    \"page-sizes\": [10, 20, 30, 40],\n    \"page-size\": 100,\n    layout: \"total, sizes, prev, pager, next, jumper\",\n    total: $data.total\n  }, null, 8 /* PROPS */, [\"onSizeChange\", \"onCurrentChange\", \"current-page\", \"total\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createVNode","_component_el_form","inline","model","$data","formInline","size","_component_el_form_item","label","_component_el_input","name","$event","placeholder","_component_el_button","type","onClick","$options","find","reset","_component_el_table","data","computedData","border","style","_component_el_table_column","prop","align","default","_withCtx","scope","icon","del","row","_component_el_pagination","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","currentPage","layout","total"],"sources":["/Users/mac/Desktop/vue_bsm/vue3_bsm/src/components/Student/StudentList.vue"],"sourcesContent":["<template>\n  <div class=\"studentList\">\n    <!-- 查询、重置表单 -->\n    <el-form\n      :inline=\"true\"\n      :model=\"formInline\"\n      class=\"demo-form-inline\"\n      size=\"small\"\n    >\n      <el-form-item label=\"姓名\">\n        <el-input v-model=\"formInline.name\" placeholder=\"请输入需要查询的姓名\">\n        </el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"find\">查询</el-button>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"reset\">重置</el-button>\n      </el-form-item>\n    </el-form>\n    <!-- 分页公式：slice(（当前页数-1）*每页条数,当前页数*每页条数) -->\n    <el-table :data=\"computedData\" border style=\"width: 100%\">\n      <!-- width+180px 改成 align=\"center\" 居中显示去除滚动条 -->\n      <el-table-column prop=\"name\" label=\"姓名\" align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"sex_text\" label=\"性别\" align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"age\" label=\"年龄\" align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"number\" label=\"学号\" align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"class\" label=\"班级\" align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"state_text\" label=\"状态\" align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"phone\" label=\"联系方式\" align=\"center\">\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\">\n        <template #default=\"scope\">\n          <el-button\n            type=\"danger\"\n            size=\"mini\"\n            icon=\"el-icon-delete\"\n            @click=\"del(scope.row)\"\n          >\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"currentPage\"\n      :page-sizes=\"[10, 20, 30, 40]\"\n      :page-size=\"100\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"total\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nimport { students, studentDelete } from \"@/api/api\";\nexport default {\n  name: \"StudentList\",\n  data() {\n    return {\n      tableData: [],\n      currentPage: 1, // 当前页数\n      pageSize: 10, //每页显示条数\n      total: 0,\n      formInline: {\n        name: \"\",\n      },\n    };\n  },\n  computed: {\n    computedData() {\n      return this.tableData.slice(\n        (this.currentPage - 1) * this.pageSize,\n        this.currentPage * this.pageSize\n      );\n    },\n  },\n  methods: {\n    find() {\n      // console.log(this.formInline);\n      this.getData(this.formInline);\n    },\n    reset() {\n      // console.log(this.formInline);\n      this.formInline = {};\n      this.getData(this.formInline);\n    },\n    del(row) {\n      console.log(row);\n      studentDelete(row.id).then((res) => {\n        if (res.data.status === 200) {\n          this.$message({ message: \"删除成功\", type: \"success\" });\n          // 刷新数据\n          this.getData();\n        }\n      });\n    },\n    handleSizeChange(val) {\n      this.pageSize = val;\n      this.currentPage = 1;\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n    },\n    getData(params) {\n      students(params).then((res) => {\n        //console.log(res); // 所有学生数据\n        if (res.status === 200) {\n          this.tableData = res.data.data;\n          this.total = res.data.total;\n          this.tableData.forEach((item) => {\n            // 这样做直接修改原数据了，尽量不要这么做\n            // item.sex === 1 ? (item.sex = \"男\") : (item.sex = \"女\");\n            item.sex === 1 ? (item.sex_text = \"男\") : (item.sex_text = \"女\");\n            if (item.state === \"1\") {\n              return (item.state_text = \"已入学\");\n            } else {\n              return (item.state_text = \"已毕业\");\n            }\n          });\n        }\n      });\n    },\n  },\n  created() {\n    this.getData();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.studentList {\n  .demo-form-inline,\n  .el-form-item {\n    text-align: left;\n  }\n  .el-pagination {\n    text-align: left;\n    margin-top: 20px;\n  }\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAa;;;;;;;;;uBAAxBC,mBAAA,CA0DM,OA1DNC,UA0DM,GAzDJC,mBAAA,aAAgB,EAChBC,YAAA,CAgBUC,kBAAA;IAfPC,MAAM,EAAE,IAAI;IACZC,KAAK,EAAEC,KAAA,CAAAC,UAAU;IAClBT,KAAK,EAAC,kBAAkB;IACxBU,IAAI,EAAC;;sBAEL,MAGe,CAHfN,YAAA,CAGeO,uBAAA;MAHDC,KAAK,EAAC;IAAI;wBACtB,MACW,CADXR,YAAA,CACWS,mBAAA;oBADQL,KAAA,CAAAC,UAAU,CAACK,IAAI;mEAAfN,KAAA,CAAAC,UAAU,CAACK,IAAI,GAAAC,MAAA;QAAEC,WAAW,EAAC;;;QAGlDZ,YAAA,CAEeO,uBAAA;wBADb,MAAsD,CAAtDP,YAAA,CAAsDa,oBAAA;QAA3CC,IAAI,EAAC,SAAS;QAAEC,OAAK,EAAEC,QAAA,CAAAC;;0BAAM,MAAE,C,iBAAF,IAAE,E;;;;QAE5CjB,YAAA,CAEeO,uBAAA;wBADb,MAAuD,CAAvDP,YAAA,CAAuDa,oBAAA;QAA5CC,IAAI,EAAC,SAAS;QAAEC,OAAK,EAAEC,QAAA,CAAAE;;0BAAO,MAAE,C,iBAAF,IAAE,E;;;;;;;gCAG/CnB,mBAAA,yCAA4C,EAC5CC,YAAA,CA2BWmB,mBAAA;IA3BAC,IAAI,EAAEJ,QAAA,CAAAK,YAAY;IAAEC,MAAM,EAAN,EAAM;IAACC,KAAmB,EAAnB;MAAA;IAAA;;sBACpC,MAAgD,CAAhDxB,mBAAA,+CAAgD,EAChDC,YAAA,CACkBwB,0BAAA;MADDC,IAAI,EAAC,MAAM;MAACjB,KAAK,EAAC,IAAI;MAACkB,KAAK,EAAC;QAE9C1B,YAAA,CACkBwB,0BAAA;MADDC,IAAI,EAAC,UAAU;MAACjB,KAAK,EAAC,IAAI;MAACkB,KAAK,EAAC;QAElD1B,YAAA,CACkBwB,0BAAA;MADDC,IAAI,EAAC,KAAK;MAACjB,KAAK,EAAC,IAAI;MAACkB,KAAK,EAAC;QAE7C1B,YAAA,CACkBwB,0BAAA;MADDC,IAAI,EAAC,QAAQ;MAACjB,KAAK,EAAC,IAAI;MAACkB,KAAK,EAAC;QAEhD1B,YAAA,CACkBwB,0BAAA;MADDC,IAAI,EAAC,OAAO;MAACjB,KAAK,EAAC,IAAI;MAACkB,KAAK,EAAC;QAE/C1B,YAAA,CACkBwB,0BAAA;MADDC,IAAI,EAAC,YAAY;MAACjB,KAAK,EAAC,IAAI;MAACkB,KAAK,EAAC;QAEpD1B,YAAA,CACkBwB,0BAAA;MADDC,IAAI,EAAC,OAAO;MAACjB,KAAK,EAAC,MAAM;MAACkB,KAAK,EAAC;QAEjD1B,YAAA,CAUkBwB,0BAAA;MAVDhB,KAAK,EAAC,IAAI;MAACkB,KAAK,EAAC;;MACrBC,OAAO,EAAAC,QAAA,CAAEC,KAAK,KACvB7B,YAAA,CAMYa,oBAAA;QALVC,IAAI,EAAC,QAAQ;QACbR,IAAI,EAAC,MAAM;QACXwB,IAAI,EAAC,gBAAgB;QACpBf,OAAK,EAAAJ,MAAA,IAAEK,QAAA,CAAAe,GAAG,CAACF,KAAK,CAACG,GAAG;;;;;;+BAM7BhC,YAAA,CASgBiC,wBAAA;IARbC,YAAW,EAAElB,QAAA,CAAAmB,gBAAgB;IAC7BC,eAAc,EAAEpB,QAAA,CAAAqB,mBAAmB;IACnC,cAAY,EAAEjC,KAAA,CAAAkC,WAAW;IACzB,YAAU,EAAE,gBAAgB;IAC5B,WAAS,EAAE,GAAG;IACfC,MAAM,EAAC,yCAAyC;IAC/CC,KAAK,EAAEpC,KAAA,CAAAoC"},"metadata":{},"sourceType":"module","externalDependencies":[]}