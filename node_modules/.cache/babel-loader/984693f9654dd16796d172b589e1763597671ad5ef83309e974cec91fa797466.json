{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\nvar zrUtil = require(\"zrender/lib/core/util\");\nvar env = require(\"zrender/lib/core/env\");\nvar visualDefault = require(\"../../visual/visualDefault\");\nvar VisualMapping = require(\"../../visual/VisualMapping\");\nvar visualSolution = require(\"../../visual/visualSolution\");\nvar modelUtil = require(\"../../util/model\");\nvar numberUtil = require(\"../../util/number\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar mapVisual = VisualMapping.mapVisual;\nvar eachVisual = VisualMapping.eachVisual;\nvar isArray = zrUtil.isArray;\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\nvar linearMap = numberUtil.linearMap;\nvar noop = zrUtil.noop;\nvar VisualMapModel = echarts.extendComponentModel({\n  type: 'visualMap',\n  dependencies: ['series'],\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n  stateList: ['inRange', 'outOfRange'],\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n  replacableOptionKeys: ['inRange', 'outOfRange', 'target', 'controller', 'color'],\n  /**\n   * [lowerBound, upperBound]\n   *\n   * @readOnly\n   * @type {Array.<number>}\n   */\n  dataBound: [-Infinity, Infinity],\n  /**\n   * @readOnly\n   * @type {string|Object}\n   */\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n  /**\n   * @protected\n   */\n  defaultOption: {\n    show: true,\n    zlevel: 0,\n    z: 4,\n    seriesIndex: 'all',\n    // 'all' or null/undefined: all series.\n    // A number or an array of number: the specified series.\n    // set min: 0, max: 200, only for campatible with ec2.\n    // In fact min max should not have default value.\n    min: 0,\n    // min value, must specified if pieces is not specified.\n    max: 200,\n    // max value, must specified if pieces is not specified.\n    dimension: null,\n    inRange: null,\n    // 'color', 'colorHue', 'colorSaturation', 'colorLightness', 'colorAlpha',\n    // 'symbol', 'symbolSize'\n    outOfRange: null,\n    // 'color', 'colorHue', 'colorSaturation',\n    // 'colorLightness', 'colorAlpha',\n    // 'symbol', 'symbolSize'\n    left: 0,\n    // 'center' ¦ 'left' ¦ 'right' ¦ {number} (px)\n    right: null,\n    // The same as left.\n    top: null,\n    // 'top' ¦ 'bottom' ¦ 'center' ¦ {number} (px)\n    bottom: 0,\n    // The same as top.\n    itemWidth: null,\n    itemHeight: null,\n    inverse: false,\n    orient: 'vertical',\n    // 'horizontal' ¦ 'vertical'\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    // 值域边框颜色\n    contentColor: '#5793f3',\n    inactiveColor: '#aaa',\n    borderWidth: 0,\n    // 值域边框线宽，单位px，默认为0（无边框）\n    padding: 5,\n    // 值域内边距，单位px，默认各方向内边距为5，\n    // 接受数组分别设定上右下左边距，同css\n    textGap: 10,\n    //\n    precision: 0,\n    // 小数精度，默认为0，无小数点\n    color: null,\n    //颜色（deprecated，兼容ec2，顺序同pieces，不同于inRange/outOfRange）\n    formatter: null,\n    text: null,\n    // 文本，如['高', '低']，兼容ec2，text[0]对应高值，text[1]对应低值\n    textStyle: {\n      color: '#333' // 值域文字颜色\n    }\n  },\n\n  /**\n   * @protected\n   */\n  init: function (option, parentModel, ecModel) {\n    /**\n     * @private\n     * @type {Array.<number>}\n     */\n    this._dataExtent;\n    /**\n     * @readOnly\n     */\n\n    this.targetVisuals = {};\n    /**\n     * @readOnly\n     */\n\n    this.controllerVisuals = {};\n    /**\n     * @readOnly\n     */\n\n    this.textStyleModel;\n    /**\n     * [width, height]\n     * @readOnly\n     * @type {Array.<number>}\n     */\n\n    this.itemSize;\n    this.mergeDefaultAndTheme(option, ecModel);\n  },\n  /**\n   * @protected\n   */\n  optionUpdated: function (newOption, isInit) {\n    var thisOption = this.option; // FIXME\n    // necessary?\n    // Disable realtime view update if canvas is not supported.\n\n    if (!env.canvasSupported) {\n      thisOption.realtime = false;\n    }\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, this.replacableOptionKeys);\n    this.textStyleModel = this.getModel('textStyle');\n    this.resetItemSize();\n    this.completeVisualOption();\n  },\n  /**\n   * @protected\n   */\n  resetVisual: function (supplementVisualOption) {\n    var stateList = this.stateList;\n    supplementVisualOption = zrUtil.bind(supplementVisualOption, this);\n    this.controllerVisuals = visualSolution.createVisualMappings(this.option.controller, stateList, supplementVisualOption);\n    this.targetVisuals = visualSolution.createVisualMappings(this.option.target, stateList, supplementVisualOption);\n  },\n  /**\n   * @protected\n   * @return {Array.<number>} An array of series indices.\n   */\n  getTargetSeriesIndices: function () {\n    var optionSeriesIndex = this.option.seriesIndex;\n    var seriesIndices = [];\n    if (optionSeriesIndex == null || optionSeriesIndex === 'all') {\n      this.ecModel.eachSeries(function (seriesModel, index) {\n        seriesIndices.push(index);\n      });\n    } else {\n      seriesIndices = modelUtil.normalizeToArray(optionSeriesIndex);\n    }\n    return seriesIndices;\n  },\n  /**\n   * @public\n   */\n  eachTargetSeries: function (callback, context) {\n    zrUtil.each(this.getTargetSeriesIndices(), function (seriesIndex) {\n      callback.call(context, this.ecModel.getSeriesByIndex(seriesIndex));\n    }, this);\n  },\n  /**\n   * @pubilc\n   */\n  isTargetSeries: function (seriesModel) {\n    var is = false;\n    this.eachTargetSeries(function (model) {\n      model === seriesModel && (is = true);\n    });\n    return is;\n  },\n  /**\n   * @example\n   * this.formatValueText(someVal); // format single numeric value to text.\n   * this.formatValueText(someVal, true); // format single category value to text.\n   * this.formatValueText([min, max]); // format numeric min-max to text.\n   * this.formatValueText([this.dataBound[0], max]); // using data lower bound.\n   * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.\n   *\n   * @param {number|Array.<number>} value Real value, or this.dataBound[0 or 1].\n   * @param {boolean} [isCategory=false] Only available when value is number.\n   * @param {Array.<string>} edgeSymbols Open-close symbol when value is interval.\n   * @return {string}\n   * @protected\n   */\n  formatValueText: function (value, isCategory, edgeSymbols) {\n    var option = this.option;\n    var precision = option.precision;\n    var dataBound = this.dataBound;\n    var formatter = option.formatter;\n    var isMinMax;\n    var textValue;\n    edgeSymbols = edgeSymbols || ['<', '>'];\n    if (zrUtil.isArray(value)) {\n      value = value.slice();\n      isMinMax = true;\n    }\n    textValue = isCategory ? value : isMinMax ? [toFixed(value[0]), toFixed(value[1])] : toFixed(value);\n    if (zrUtil.isString(formatter)) {\n      return formatter.replace('{value}', isMinMax ? textValue[0] : textValue).replace('{value2}', isMinMax ? textValue[1] : textValue);\n    } else if (zrUtil.isFunction(formatter)) {\n      return isMinMax ? formatter(value[0], value[1]) : formatter(value);\n    }\n    if (isMinMax) {\n      if (value[0] === dataBound[0]) {\n        return edgeSymbols[0] + ' ' + textValue[1];\n      } else if (value[1] === dataBound[1]) {\n        return edgeSymbols[1] + ' ' + textValue[0];\n      } else {\n        return textValue[0] + ' - ' + textValue[1];\n      }\n    } else {\n      // Format single value (includes category case).\n      return textValue;\n    }\n    function toFixed(val) {\n      return val === dataBound[0] ? 'min' : val === dataBound[1] ? 'max' : (+val).toFixed(Math.min(precision, 20));\n    }\n  },\n  /**\n   * @protected\n   */\n  resetExtent: function () {\n    var thisOption = this.option; // Can not calculate data extent by data here.\n    // Because series and data may be modified in processing stage.\n    // So we do not support the feature \"auto min/max\".\n\n    var extent = asc([thisOption.min, thisOption.max]);\n    this._dataExtent = extent;\n  },\n  /**\n   * @public\n   * @param {module:echarts/data/List} list\n   * @return {string} Concrete dimention. If return null/undefined,\n   *                  no dimension used.\n   */\n  getDataDimension: function (list) {\n    var optDim = this.option.dimension;\n    var listDimensions = list.dimensions;\n    if (optDim == null && !listDimensions.length) {\n      return;\n    }\n    if (optDim != null) {\n      return list.getDimension(optDim);\n    }\n    var dimNames = list.dimensions;\n    for (var i = dimNames.length - 1; i >= 0; i--) {\n      var dimName = dimNames[i];\n      var dimInfo = list.getDimensionInfo(dimName);\n      if (!dimInfo.isCalculationCoord) {\n        return dimName;\n      }\n    }\n  },\n  /**\n   * @public\n   * @override\n   */\n  getExtent: function () {\n    return this._dataExtent.slice();\n  },\n  /**\n   * @protected\n   */\n  completeVisualOption: function () {\n    var ecModel = this.ecModel;\n    var thisOption = this.option;\n    var base = {\n      inRange: thisOption.inRange,\n      outOfRange: thisOption.outOfRange\n    };\n    var target = thisOption.target || (thisOption.target = {});\n    var controller = thisOption.controller || (thisOption.controller = {});\n    zrUtil.merge(target, base); // Do not override\n\n    zrUtil.merge(controller, base); // Do not override\n\n    var isCategory = this.isCategory();\n    completeSingle.call(this, target);\n    completeSingle.call(this, controller);\n    completeInactive.call(this, target, 'inRange', 'outOfRange'); // completeInactive.call(this, target, 'outOfRange', 'inRange');\n\n    completeController.call(this, controller);\n    function completeSingle(base) {\n      // Compatible with ec2 dataRange.color.\n      // The mapping order of dataRange.color is: [high value, ..., low value]\n      // whereas inRange.color and outOfRange.color is [low value, ..., high value]\n      // Notice: ec2 has no inverse.\n      if (isArray(thisOption.color) // If there has been inRange: {symbol: ...}, adding color is a mistake.\n      // So adding color only when no inRange defined.\n      && !base.inRange) {\n        base.inRange = {\n          color: thisOption.color.slice().reverse()\n        };\n      } // Compatible with previous logic, always give a defautl color, otherwise\n      // simple config with no inRange and outOfRange will not work.\n      // Originally we use visualMap.color as the default color, but setOption at\n      // the second time the default color will be erased. So we change to use\n      // constant DEFAULT_COLOR.\n      // If user do not want the default color, set inRange: {color: null}.\n\n      base.inRange = base.inRange || {\n        color: ecModel.get('gradientColor')\n      }; // If using shortcut like: {inRange: 'symbol'}, complete default value.\n\n      each(this.stateList, function (state) {\n        var visualType = base[state];\n        if (zrUtil.isString(visualType)) {\n          var defa = visualDefault.get(visualType, 'active', isCategory);\n          if (defa) {\n            base[state] = {};\n            base[state][visualType] = defa;\n          } else {\n            // Mark as not specified.\n            delete base[state];\n          }\n        }\n      }, this);\n    }\n    function completeInactive(base, stateExist, stateAbsent) {\n      var optExist = base[stateExist];\n      var optAbsent = base[stateAbsent];\n      if (optExist && !optAbsent) {\n        optAbsent = base[stateAbsent] = {};\n        each(optExist, function (visualData, visualType) {\n          if (!VisualMapping.isValidType(visualType)) {\n            return;\n          }\n          var defa = visualDefault.get(visualType, 'inactive', isCategory);\n          if (defa != null) {\n            optAbsent[visualType] = defa; // Compatibable with ec2:\n            // Only inactive color to rgba(0,0,0,0) can not\n            // make label transparent, so use opacity also.\n\n            if (visualType === 'color' && !optAbsent.hasOwnProperty('opacity') && !optAbsent.hasOwnProperty('colorAlpha')) {\n              optAbsent.opacity = [0, 0];\n            }\n          }\n        });\n      }\n    }\n    function completeController(controller) {\n      var symbolExists = (controller.inRange || {}).symbol || (controller.outOfRange || {}).symbol;\n      var symbolSizeExists = (controller.inRange || {}).symbolSize || (controller.outOfRange || {}).symbolSize;\n      var inactiveColor = this.get('inactiveColor');\n      each(this.stateList, function (state) {\n        var itemSize = this.itemSize;\n        var visuals = controller[state]; // Set inactive color for controller if no other color\n        // attr (like colorAlpha) specified.\n\n        if (!visuals) {\n          visuals = controller[state] = {\n            color: isCategory ? inactiveColor : [inactiveColor]\n          };\n        } // Consistent symbol and symbolSize if not specified.\n\n        if (visuals.symbol == null) {\n          visuals.symbol = symbolExists && zrUtil.clone(symbolExists) || (isCategory ? 'roundRect' : ['roundRect']);\n        }\n        if (visuals.symbolSize == null) {\n          visuals.symbolSize = symbolSizeExists && zrUtil.clone(symbolSizeExists) || (isCategory ? itemSize[0] : [itemSize[0], itemSize[0]]);\n        } // Filter square and none.\n\n        visuals.symbol = mapVisual(visuals.symbol, function (symbol) {\n          return symbol === 'none' || symbol === 'square' ? 'roundRect' : symbol;\n        }); // Normalize symbolSize\n\n        var symbolSize = visuals.symbolSize;\n        if (symbolSize != null) {\n          var max = -Infinity; // symbolSize can be object when categories defined.\n\n          eachVisual(symbolSize, function (value) {\n            value > max && (max = value);\n          });\n          visuals.symbolSize = mapVisual(symbolSize, function (value) {\n            return linearMap(value, [0, max], [0, itemSize[0]], true);\n          });\n        }\n      }, this);\n    }\n  },\n  /**\n   * @protected\n   */\n  resetItemSize: function () {\n    this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))];\n  },\n  /**\n   * @public\n   */\n  isCategory: function () {\n    return !!this.option.categories;\n  },\n  /**\n   * @public\n   * @abstract\n   */\n  setSelected: noop,\n  /**\n   * @public\n   * @abstract\n   * @param {*|module:echarts/data/List} valueOrData\n   * @param {number} dataIndex\n   * @return {string} state See this.stateList\n   */\n  getValueState: noop,\n  /**\n   * FIXME\n   * Do not publish to thirt-part-dev temporarily\n   * util the interface is stable. (Should it return\n   * a function but not visual meta?)\n   *\n   * @pubilc\n   * @abstract\n   * @param {Function} getColorVisual\n   *        params: value, valueState\n   *        return: color\n   * @return {Object} visualMeta\n   *        should includes {stops, outerColors}\n   *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]\n   */\n  getVisualMeta: noop\n});\nvar _default = VisualMapModel;\nmodule.exports = _default;","map":{"version":3,"names":["echarts","require","zrUtil","env","visualDefault","VisualMapping","visualSolution","modelUtil","numberUtil","mapVisual","eachVisual","isArray","each","asc","linearMap","noop","VisualMapModel","extendComponentModel","type","dependencies","stateList","replacableOptionKeys","dataBound","Infinity","layoutMode","ignoreSize","defaultOption","show","zlevel","z","seriesIndex","min","max","dimension","inRange","outOfRange","left","right","top","bottom","itemWidth","itemHeight","inverse","orient","backgroundColor","borderColor","contentColor","inactiveColor","borderWidth","padding","textGap","precision","color","formatter","text","textStyle","init","option","parentModel","ecModel","_dataExtent","targetVisuals","controllerVisuals","textStyleModel","itemSize","mergeDefaultAndTheme","optionUpdated","newOption","isInit","thisOption","canvasSupported","realtime","replaceVisualOption","getModel","resetItemSize","completeVisualOption","resetVisual","supplementVisualOption","bind","createVisualMappings","controller","target","getTargetSeriesIndices","optionSeriesIndex","seriesIndices","eachSeries","seriesModel","index","push","normalizeToArray","eachTargetSeries","callback","context","call","getSeriesByIndex","isTargetSeries","is","model","formatValueText","value","isCategory","edgeSymbols","isMinMax","textValue","slice","toFixed","isString","replace","isFunction","val","Math","resetExtent","extent","getDataDimension","list","optDim","listDimensions","dimensions","length","getDimension","dimNames","i","dimName","dimInfo","getDimensionInfo","isCalculationCoord","getExtent","base","merge","completeSingle","completeInactive","completeController","reverse","get","state","visualType","defa","stateExist","stateAbsent","optExist","optAbsent","visualData","isValidType","hasOwnProperty","opacity","symbolExists","symbol","symbolSizeExists","symbolSize","visuals","clone","parseFloat","categories","setSelected","getValueState","getVisualMeta","_default","module","exports"],"sources":["/Users/mac/Desktop/vue_bsm/vue3_bsm/node_modules/echarts/lib/component/visualMap/VisualMapModel.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar visualDefault = require(\"../../visual/visualDefault\");\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\nvar visualSolution = require(\"../../visual/visualSolution\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar numberUtil = require(\"../../util/number\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar mapVisual = VisualMapping.mapVisual;\nvar eachVisual = VisualMapping.eachVisual;\nvar isArray = zrUtil.isArray;\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\nvar linearMap = numberUtil.linearMap;\nvar noop = zrUtil.noop;\nvar VisualMapModel = echarts.extendComponentModel({\n  type: 'visualMap',\n  dependencies: ['series'],\n\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n  stateList: ['inRange', 'outOfRange'],\n\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n  replacableOptionKeys: ['inRange', 'outOfRange', 'target', 'controller', 'color'],\n\n  /**\n   * [lowerBound, upperBound]\n   *\n   * @readOnly\n   * @type {Array.<number>}\n   */\n  dataBound: [-Infinity, Infinity],\n\n  /**\n   * @readOnly\n   * @type {string|Object}\n   */\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    show: true,\n    zlevel: 0,\n    z: 4,\n    seriesIndex: 'all',\n    // 'all' or null/undefined: all series.\n    // A number or an array of number: the specified series.\n    // set min: 0, max: 200, only for campatible with ec2.\n    // In fact min max should not have default value.\n    min: 0,\n    // min value, must specified if pieces is not specified.\n    max: 200,\n    // max value, must specified if pieces is not specified.\n    dimension: null,\n    inRange: null,\n    // 'color', 'colorHue', 'colorSaturation', 'colorLightness', 'colorAlpha',\n    // 'symbol', 'symbolSize'\n    outOfRange: null,\n    // 'color', 'colorHue', 'colorSaturation',\n    // 'colorLightness', 'colorAlpha',\n    // 'symbol', 'symbolSize'\n    left: 0,\n    // 'center' ¦ 'left' ¦ 'right' ¦ {number} (px)\n    right: null,\n    // The same as left.\n    top: null,\n    // 'top' ¦ 'bottom' ¦ 'center' ¦ {number} (px)\n    bottom: 0,\n    // The same as top.\n    itemWidth: null,\n    itemHeight: null,\n    inverse: false,\n    orient: 'vertical',\n    // 'horizontal' ¦ 'vertical'\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    // 值域边框颜色\n    contentColor: '#5793f3',\n    inactiveColor: '#aaa',\n    borderWidth: 0,\n    // 值域边框线宽，单位px，默认为0（无边框）\n    padding: 5,\n    // 值域内边距，单位px，默认各方向内边距为5，\n    // 接受数组分别设定上右下左边距，同css\n    textGap: 10,\n    //\n    precision: 0,\n    // 小数精度，默认为0，无小数点\n    color: null,\n    //颜色（deprecated，兼容ec2，顺序同pieces，不同于inRange/outOfRange）\n    formatter: null,\n    text: null,\n    // 文本，如['高', '低']，兼容ec2，text[0]对应高值，text[1]对应低值\n    textStyle: {\n      color: '#333' // 值域文字颜色\n\n    }\n  },\n\n  /**\n   * @protected\n   */\n  init: function (option, parentModel, ecModel) {\n    /**\n     * @private\n     * @type {Array.<number>}\n     */\n    this._dataExtent;\n    /**\n     * @readOnly\n     */\n\n    this.targetVisuals = {};\n    /**\n     * @readOnly\n     */\n\n    this.controllerVisuals = {};\n    /**\n     * @readOnly\n     */\n\n    this.textStyleModel;\n    /**\n     * [width, height]\n     * @readOnly\n     * @type {Array.<number>}\n     */\n\n    this.itemSize;\n    this.mergeDefaultAndTheme(option, ecModel);\n  },\n\n  /**\n   * @protected\n   */\n  optionUpdated: function (newOption, isInit) {\n    var thisOption = this.option; // FIXME\n    // necessary?\n    // Disable realtime view update if canvas is not supported.\n\n    if (!env.canvasSupported) {\n      thisOption.realtime = false;\n    }\n\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, this.replacableOptionKeys);\n    this.textStyleModel = this.getModel('textStyle');\n    this.resetItemSize();\n    this.completeVisualOption();\n  },\n\n  /**\n   * @protected\n   */\n  resetVisual: function (supplementVisualOption) {\n    var stateList = this.stateList;\n    supplementVisualOption = zrUtil.bind(supplementVisualOption, this);\n    this.controllerVisuals = visualSolution.createVisualMappings(this.option.controller, stateList, supplementVisualOption);\n    this.targetVisuals = visualSolution.createVisualMappings(this.option.target, stateList, supplementVisualOption);\n  },\n\n  /**\n   * @protected\n   * @return {Array.<number>} An array of series indices.\n   */\n  getTargetSeriesIndices: function () {\n    var optionSeriesIndex = this.option.seriesIndex;\n    var seriesIndices = [];\n\n    if (optionSeriesIndex == null || optionSeriesIndex === 'all') {\n      this.ecModel.eachSeries(function (seriesModel, index) {\n        seriesIndices.push(index);\n      });\n    } else {\n      seriesIndices = modelUtil.normalizeToArray(optionSeriesIndex);\n    }\n\n    return seriesIndices;\n  },\n\n  /**\n   * @public\n   */\n  eachTargetSeries: function (callback, context) {\n    zrUtil.each(this.getTargetSeriesIndices(), function (seriesIndex) {\n      callback.call(context, this.ecModel.getSeriesByIndex(seriesIndex));\n    }, this);\n  },\n\n  /**\n   * @pubilc\n   */\n  isTargetSeries: function (seriesModel) {\n    var is = false;\n    this.eachTargetSeries(function (model) {\n      model === seriesModel && (is = true);\n    });\n    return is;\n  },\n\n  /**\n   * @example\n   * this.formatValueText(someVal); // format single numeric value to text.\n   * this.formatValueText(someVal, true); // format single category value to text.\n   * this.formatValueText([min, max]); // format numeric min-max to text.\n   * this.formatValueText([this.dataBound[0], max]); // using data lower bound.\n   * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.\n   *\n   * @param {number|Array.<number>} value Real value, or this.dataBound[0 or 1].\n   * @param {boolean} [isCategory=false] Only available when value is number.\n   * @param {Array.<string>} edgeSymbols Open-close symbol when value is interval.\n   * @return {string}\n   * @protected\n   */\n  formatValueText: function (value, isCategory, edgeSymbols) {\n    var option = this.option;\n    var precision = option.precision;\n    var dataBound = this.dataBound;\n    var formatter = option.formatter;\n    var isMinMax;\n    var textValue;\n    edgeSymbols = edgeSymbols || ['<', '>'];\n\n    if (zrUtil.isArray(value)) {\n      value = value.slice();\n      isMinMax = true;\n    }\n\n    textValue = isCategory ? value : isMinMax ? [toFixed(value[0]), toFixed(value[1])] : toFixed(value);\n\n    if (zrUtil.isString(formatter)) {\n      return formatter.replace('{value}', isMinMax ? textValue[0] : textValue).replace('{value2}', isMinMax ? textValue[1] : textValue);\n    } else if (zrUtil.isFunction(formatter)) {\n      return isMinMax ? formatter(value[0], value[1]) : formatter(value);\n    }\n\n    if (isMinMax) {\n      if (value[0] === dataBound[0]) {\n        return edgeSymbols[0] + ' ' + textValue[1];\n      } else if (value[1] === dataBound[1]) {\n        return edgeSymbols[1] + ' ' + textValue[0];\n      } else {\n        return textValue[0] + ' - ' + textValue[1];\n      }\n    } else {\n      // Format single value (includes category case).\n      return textValue;\n    }\n\n    function toFixed(val) {\n      return val === dataBound[0] ? 'min' : val === dataBound[1] ? 'max' : (+val).toFixed(Math.min(precision, 20));\n    }\n  },\n\n  /**\n   * @protected\n   */\n  resetExtent: function () {\n    var thisOption = this.option; // Can not calculate data extent by data here.\n    // Because series and data may be modified in processing stage.\n    // So we do not support the feature \"auto min/max\".\n\n    var extent = asc([thisOption.min, thisOption.max]);\n    this._dataExtent = extent;\n  },\n\n  /**\n   * @public\n   * @param {module:echarts/data/List} list\n   * @return {string} Concrete dimention. If return null/undefined,\n   *                  no dimension used.\n   */\n  getDataDimension: function (list) {\n    var optDim = this.option.dimension;\n    var listDimensions = list.dimensions;\n\n    if (optDim == null && !listDimensions.length) {\n      return;\n    }\n\n    if (optDim != null) {\n      return list.getDimension(optDim);\n    }\n\n    var dimNames = list.dimensions;\n\n    for (var i = dimNames.length - 1; i >= 0; i--) {\n      var dimName = dimNames[i];\n      var dimInfo = list.getDimensionInfo(dimName);\n\n      if (!dimInfo.isCalculationCoord) {\n        return dimName;\n      }\n    }\n  },\n\n  /**\n   * @public\n   * @override\n   */\n  getExtent: function () {\n    return this._dataExtent.slice();\n  },\n\n  /**\n   * @protected\n   */\n  completeVisualOption: function () {\n    var ecModel = this.ecModel;\n    var thisOption = this.option;\n    var base = {\n      inRange: thisOption.inRange,\n      outOfRange: thisOption.outOfRange\n    };\n    var target = thisOption.target || (thisOption.target = {});\n    var controller = thisOption.controller || (thisOption.controller = {});\n    zrUtil.merge(target, base); // Do not override\n\n    zrUtil.merge(controller, base); // Do not override\n\n    var isCategory = this.isCategory();\n    completeSingle.call(this, target);\n    completeSingle.call(this, controller);\n    completeInactive.call(this, target, 'inRange', 'outOfRange'); // completeInactive.call(this, target, 'outOfRange', 'inRange');\n\n    completeController.call(this, controller);\n\n    function completeSingle(base) {\n      // Compatible with ec2 dataRange.color.\n      // The mapping order of dataRange.color is: [high value, ..., low value]\n      // whereas inRange.color and outOfRange.color is [low value, ..., high value]\n      // Notice: ec2 has no inverse.\n      if (isArray(thisOption.color) // If there has been inRange: {symbol: ...}, adding color is a mistake.\n      // So adding color only when no inRange defined.\n      && !base.inRange) {\n        base.inRange = {\n          color: thisOption.color.slice().reverse()\n        };\n      } // Compatible with previous logic, always give a defautl color, otherwise\n      // simple config with no inRange and outOfRange will not work.\n      // Originally we use visualMap.color as the default color, but setOption at\n      // the second time the default color will be erased. So we change to use\n      // constant DEFAULT_COLOR.\n      // If user do not want the default color, set inRange: {color: null}.\n\n\n      base.inRange = base.inRange || {\n        color: ecModel.get('gradientColor')\n      }; // If using shortcut like: {inRange: 'symbol'}, complete default value.\n\n      each(this.stateList, function (state) {\n        var visualType = base[state];\n\n        if (zrUtil.isString(visualType)) {\n          var defa = visualDefault.get(visualType, 'active', isCategory);\n\n          if (defa) {\n            base[state] = {};\n            base[state][visualType] = defa;\n          } else {\n            // Mark as not specified.\n            delete base[state];\n          }\n        }\n      }, this);\n    }\n\n    function completeInactive(base, stateExist, stateAbsent) {\n      var optExist = base[stateExist];\n      var optAbsent = base[stateAbsent];\n\n      if (optExist && !optAbsent) {\n        optAbsent = base[stateAbsent] = {};\n        each(optExist, function (visualData, visualType) {\n          if (!VisualMapping.isValidType(visualType)) {\n            return;\n          }\n\n          var defa = visualDefault.get(visualType, 'inactive', isCategory);\n\n          if (defa != null) {\n            optAbsent[visualType] = defa; // Compatibable with ec2:\n            // Only inactive color to rgba(0,0,0,0) can not\n            // make label transparent, so use opacity also.\n\n            if (visualType === 'color' && !optAbsent.hasOwnProperty('opacity') && !optAbsent.hasOwnProperty('colorAlpha')) {\n              optAbsent.opacity = [0, 0];\n            }\n          }\n        });\n      }\n    }\n\n    function completeController(controller) {\n      var symbolExists = (controller.inRange || {}).symbol || (controller.outOfRange || {}).symbol;\n      var symbolSizeExists = (controller.inRange || {}).symbolSize || (controller.outOfRange || {}).symbolSize;\n      var inactiveColor = this.get('inactiveColor');\n      each(this.stateList, function (state) {\n        var itemSize = this.itemSize;\n        var visuals = controller[state]; // Set inactive color for controller if no other color\n        // attr (like colorAlpha) specified.\n\n        if (!visuals) {\n          visuals = controller[state] = {\n            color: isCategory ? inactiveColor : [inactiveColor]\n          };\n        } // Consistent symbol and symbolSize if not specified.\n\n\n        if (visuals.symbol == null) {\n          visuals.symbol = symbolExists && zrUtil.clone(symbolExists) || (isCategory ? 'roundRect' : ['roundRect']);\n        }\n\n        if (visuals.symbolSize == null) {\n          visuals.symbolSize = symbolSizeExists && zrUtil.clone(symbolSizeExists) || (isCategory ? itemSize[0] : [itemSize[0], itemSize[0]]);\n        } // Filter square and none.\n\n\n        visuals.symbol = mapVisual(visuals.symbol, function (symbol) {\n          return symbol === 'none' || symbol === 'square' ? 'roundRect' : symbol;\n        }); // Normalize symbolSize\n\n        var symbolSize = visuals.symbolSize;\n\n        if (symbolSize != null) {\n          var max = -Infinity; // symbolSize can be object when categories defined.\n\n          eachVisual(symbolSize, function (value) {\n            value > max && (max = value);\n          });\n          visuals.symbolSize = mapVisual(symbolSize, function (value) {\n            return linearMap(value, [0, max], [0, itemSize[0]], true);\n          });\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  resetItemSize: function () {\n    this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))];\n  },\n\n  /**\n   * @public\n   */\n  isCategory: function () {\n    return !!this.option.categories;\n  },\n\n  /**\n   * @public\n   * @abstract\n   */\n  setSelected: noop,\n\n  /**\n   * @public\n   * @abstract\n   * @param {*|module:echarts/data/List} valueOrData\n   * @param {number} dataIndex\n   * @return {string} state See this.stateList\n   */\n  getValueState: noop,\n\n  /**\n   * FIXME\n   * Do not publish to thirt-part-dev temporarily\n   * util the interface is stable. (Should it return\n   * a function but not visual meta?)\n   *\n   * @pubilc\n   * @abstract\n   * @param {Function} getColorVisual\n   *        params: value, valueState\n   *        return: color\n   * @return {Object} visualMeta\n   *        should includes {stops, outerColors}\n   *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]\n   */\n  getVisualMeta: noop\n});\nvar _default = VisualMapModel;\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}