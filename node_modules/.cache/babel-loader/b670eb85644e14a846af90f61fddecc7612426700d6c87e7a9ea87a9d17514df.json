{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\nvar _vector = require(\"../../core/vector\");\nvar v2Min = _vector.min;\nvar v2Max = _vector.max;\nvar v2Scale = _vector.scale;\nvar v2Distance = _vector.distance;\nvar v2Add = _vector.add;\nvar v2Clone = _vector.clone;\nvar v2Sub = _vector.sub;\n\n/**\n * 贝塞尔平滑曲线\n * @module zrender/shape/util/smoothBezier\n * @author pissang (https://www.github.com/pissang)\n *         Kener (@Kener-林峰, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n */\n\n/**\n * 贝塞尔平滑曲线\n * @alias module:zrender/shape/util/smoothBezier\n * @param {Array} points 线段顶点数组\n * @param {number} smooth 平滑等级, 0-1\n * @param {boolean} isLoop\n * @param {Array} constraint 将计算出来的控制点约束在一个包围盒内\n *                           比如 [[0, 0], [100, 100]], 这个包围盒会与\n *                           整个折线的包围盒做一个并集用来约束控制点。\n * @param {Array} 计算出来的控制点数组\n */\nfunction _default(points, smooth, isLoop, constraint) {\n  var cps = [];\n  var v = [];\n  var v1 = [];\n  var v2 = [];\n  var prevPoint;\n  var nextPoint;\n  var min;\n  var max;\n  if (constraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n    for (var i = 0, len = points.length; i < len; i++) {\n      v2Min(min, min, points[i]);\n      v2Max(max, max, points[i]);\n    } // 与指定的包围盒做并集\n\n    v2Min(min, min, constraint[0]);\n    v2Max(max, max, constraint[1]);\n  }\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(v2Clone(points[i]));\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    v2Sub(v, nextPoint, prevPoint); // use degree to scale the handle length\n\n    v2Scale(v, v, smooth);\n    var d0 = v2Distance(point, prevPoint);\n    var d1 = v2Distance(point, nextPoint);\n    var sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n    v2Scale(v1, v, -d0);\n    v2Scale(v2, v, d1);\n    var cp0 = v2Add([], point, v1);\n    var cp1 = v2Add([], point, v2);\n    if (constraint) {\n      v2Max(cp0, cp0, min);\n      v2Min(cp0, cp0, max);\n      v2Max(cp1, cp1, min);\n      v2Min(cp1, cp1, max);\n    }\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n}\nmodule.exports = _default;","map":{"version":3,"names":["_vector","require","v2Min","min","v2Max","max","v2Scale","scale","v2Distance","distance","v2Add","add","v2Clone","clone","v2Sub","sub","_default","points","smooth","isLoop","constraint","cps","v","v1","v2","prevPoint","nextPoint","Infinity","i","len","length","point","push","d0","d1","sum","cp0","cp1","shift","module","exports"],"sources":["/Users/mac/Desktop/vue_bsm/vue3_bsm/node_modules/zrender/lib/graphic/helper/smoothBezier.js"],"sourcesContent":["var _vector = require(\"../../core/vector\");\n\nvar v2Min = _vector.min;\nvar v2Max = _vector.max;\nvar v2Scale = _vector.scale;\nvar v2Distance = _vector.distance;\nvar v2Add = _vector.add;\nvar v2Clone = _vector.clone;\nvar v2Sub = _vector.sub;\n\n/**\n * 贝塞尔平滑曲线\n * @module zrender/shape/util/smoothBezier\n * @author pissang (https://www.github.com/pissang)\n *         Kener (@Kener-林峰, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n */\n\n/**\n * 贝塞尔平滑曲线\n * @alias module:zrender/shape/util/smoothBezier\n * @param {Array} points 线段顶点数组\n * @param {number} smooth 平滑等级, 0-1\n * @param {boolean} isLoop\n * @param {Array} constraint 将计算出来的控制点约束在一个包围盒内\n *                           比如 [[0, 0], [100, 100]], 这个包围盒会与\n *                           整个折线的包围盒做一个并集用来约束控制点。\n * @param {Array} 计算出来的控制点数组\n */\nfunction _default(points, smooth, isLoop, constraint) {\n  var cps = [];\n  var v = [];\n  var v1 = [];\n  var v2 = [];\n  var prevPoint;\n  var nextPoint;\n  var min;\n  var max;\n\n  if (constraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (var i = 0, len = points.length; i < len; i++) {\n      v2Min(min, min, points[i]);\n      v2Max(max, max, points[i]);\n    } // 与指定的包围盒做并集\n\n\n    v2Min(min, min, constraint[0]);\n    v2Max(max, max, constraint[1]);\n  }\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(v2Clone(points[i]));\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n\n    v2Sub(v, nextPoint, prevPoint); // use degree to scale the handle length\n\n    v2Scale(v, v, smooth);\n    var d0 = v2Distance(point, prevPoint);\n    var d1 = v2Distance(point, nextPoint);\n    var sum = d0 + d1;\n\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    v2Scale(v1, v, -d0);\n    v2Scale(v2, v, d1);\n    var cp0 = v2Add([], point, v1);\n    var cp1 = v2Add([], point, v2);\n\n    if (constraint) {\n      v2Max(cp0, cp0, min);\n      v2Min(cp0, cp0, max);\n      v2Max(cp1, cp1, min);\n      v2Min(cp1, cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n}\n\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}