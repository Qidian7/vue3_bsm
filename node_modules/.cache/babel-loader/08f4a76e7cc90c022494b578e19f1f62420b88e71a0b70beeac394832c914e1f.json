{"ast":null,"code":"var textHelper = require(\"../helper/text\");\nvar BoundingRect = require(\"../../core/BoundingRect\");\nvar _constant = require(\"../constant\");\nvar WILL_BE_RESTORED = _constant.WILL_BE_RESTORED;\n\n/**\n * Mixin for drawing text in a element bounding rect\n * @module zrender/mixin/RectText\n */\nvar tmpRect = new BoundingRect();\nvar RectText = function () {};\nRectText.prototype = {\n  constructor: RectText,\n  /**\n   * Draw text in a rect with specified position.\n   * @param  {CanvasRenderingContext2D} ctx\n   * @param  {Object} rect Displayable rect\n   */\n  drawRectText: function (ctx, rect) {\n    var style = this.style;\n    rect = style.textRect || rect; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n    var text = style.text; // Convert to string\n\n    text != null && (text += '');\n    if (!textHelper.needDrawText(text, style)) {\n      return;\n    } // FIXME\n    // Do not provide prevEl to `textHelper.renderText` for ctx prop cache,\n    // but use `ctx.save()` and `ctx.restore()`. Because the cache for rect\n    // text propably break the cache for its host elements.\n\n    ctx.save(); // Transform rect to view space\n\n    var transform = this.transform;\n    if (!style.transformText) {\n      if (transform) {\n        tmpRect.copy(rect);\n        tmpRect.applyTransform(transform);\n        rect = tmpRect;\n      }\n    } else {\n      this.setTransform(ctx);\n    } // transformText and textRotation can not be used at the same time.\n\n    textHelper.renderText(this, ctx, text, style, rect, WILL_BE_RESTORED);\n    ctx.restore();\n  }\n};\nvar _default = RectText;\nmodule.exports = _default;","map":{"version":3,"names":["textHelper","require","BoundingRect","_constant","WILL_BE_RESTORED","tmpRect","RectText","prototype","constructor","drawRectText","ctx","rect","style","textRect","__dirty","normalizeTextStyle","text","needDrawText","save","transform","transformText","copy","applyTransform","setTransform","renderText","restore","_default","module","exports"],"sources":["/Users/mac/Desktop/vue_bsm/vue3_bsm/node_modules/zrender/lib/graphic/mixin/RectText.js"],"sourcesContent":["var textHelper = require(\"../helper/text\");\n\nvar BoundingRect = require(\"../../core/BoundingRect\");\n\nvar _constant = require(\"../constant\");\n\nvar WILL_BE_RESTORED = _constant.WILL_BE_RESTORED;\n\n/**\n * Mixin for drawing text in a element bounding rect\n * @module zrender/mixin/RectText\n */\nvar tmpRect = new BoundingRect();\n\nvar RectText = function () {};\n\nRectText.prototype = {\n  constructor: RectText,\n\n  /**\n   * Draw text in a rect with specified position.\n   * @param  {CanvasRenderingContext2D} ctx\n   * @param  {Object} rect Displayable rect\n   */\n  drawRectText: function (ctx, rect) {\n    var style = this.style;\n    rect = style.textRect || rect; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n    var text = style.text; // Convert to string\n\n    text != null && (text += '');\n\n    if (!textHelper.needDrawText(text, style)) {\n      return;\n    } // FIXME\n    // Do not provide prevEl to `textHelper.renderText` for ctx prop cache,\n    // but use `ctx.save()` and `ctx.restore()`. Because the cache for rect\n    // text propably break the cache for its host elements.\n\n\n    ctx.save(); // Transform rect to view space\n\n    var transform = this.transform;\n\n    if (!style.transformText) {\n      if (transform) {\n        tmpRect.copy(rect);\n        tmpRect.applyTransform(transform);\n        rect = tmpRect;\n      }\n    } else {\n      this.setTransform(ctx);\n    } // transformText and textRotation can not be used at the same time.\n\n\n    textHelper.renderText(this, ctx, text, style, rect, WILL_BE_RESTORED);\n    ctx.restore();\n  }\n};\nvar _default = RectText;\nmodule.exports = _default;"],"mappings":"AAAA,IAAIA,UAAU,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AAE1C,IAAIC,YAAY,GAAGD,OAAO,CAAC,yBAAyB,CAAC;AAErD,IAAIE,SAAS,GAAGF,OAAO,CAAC,aAAa,CAAC;AAEtC,IAAIG,gBAAgB,GAAGD,SAAS,CAACC,gBAAgB;;AAEjD;AACA;AACA;AACA;AACA,IAAIC,OAAO,GAAG,IAAIH,YAAY,EAAE;AAEhC,IAAII,QAAQ,GAAG,SAAAA,CAAA,EAAY,CAAC,CAAC;AAE7BA,QAAQ,CAACC,SAAS,GAAG;EACnBC,WAAW,EAAEF,QAAQ;EAErB;AACF;AACA;AACA;AACA;EACEG,YAAY,EAAE,SAAAA,CAAUC,GAAG,EAAEC,IAAI,EAAE;IACjC,IAAIC,KAAK,GAAG,IAAI,CAACA,KAAK;IACtBD,IAAI,GAAGC,KAAK,CAACC,QAAQ,IAAIF,IAAI,CAAC,CAAC;;IAE/B,IAAI,CAACG,OAAO,IAAId,UAAU,CAACe,kBAAkB,CAACH,KAAK,EAAE,IAAI,CAAC;IAC1D,IAAII,IAAI,GAAGJ,KAAK,CAACI,IAAI,CAAC,CAAC;;IAEvBA,IAAI,IAAI,IAAI,KAAKA,IAAI,IAAI,EAAE,CAAC;IAE5B,IAAI,CAAChB,UAAU,CAACiB,YAAY,CAACD,IAAI,EAAEJ,KAAK,CAAC,EAAE;MACzC;IACF,CAAC,CAAC;IACF;IACA;IACA;;IAGAF,GAAG,CAACQ,IAAI,EAAE,CAAC,CAAC;;IAEZ,IAAIC,SAAS,GAAG,IAAI,CAACA,SAAS;IAE9B,IAAI,CAACP,KAAK,CAACQ,aAAa,EAAE;MACxB,IAAID,SAAS,EAAE;QACbd,OAAO,CAACgB,IAAI,CAACV,IAAI,CAAC;QAClBN,OAAO,CAACiB,cAAc,CAACH,SAAS,CAAC;QACjCR,IAAI,GAAGN,OAAO;MAChB;IACF,CAAC,MAAM;MACL,IAAI,CAACkB,YAAY,CAACb,GAAG,CAAC;IACxB,CAAC,CAAC;;IAGFV,UAAU,CAACwB,UAAU,CAAC,IAAI,EAAEd,GAAG,EAAEM,IAAI,EAAEJ,KAAK,EAAED,IAAI,EAAEP,gBAAgB,CAAC;IACrEM,GAAG,CAACe,OAAO,EAAE;EACf;AACF,CAAC;AACD,IAAIC,QAAQ,GAAGpB,QAAQ;AACvBqB,MAAM,CAACC,OAAO,GAAGF,QAAQ"},"metadata":{},"sourceType":"script","externalDependencies":[]}